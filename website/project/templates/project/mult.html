{% extends 'project/base.html' %}
{% block content %}
 <div id="multimedia" style="margin-left:auto; margin-right:auto;width:1100px;padding-left:30px;min-height:100vh; margin-bottom:200px">
		  

			<div id="light1" name="light1" style="width:34%; float:left;">
			  <div id="txtsw" style="width:340px">
				<h5>Light #1 is : </h5><h6  id="lamp1stat"></h6>
				<div class="onoffswitch" style="margin-left:auto;margin-right:auto;margin-top:25px">
					<input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" onclick="lamp1Func()">
					<label class="onoffswitch-label" for="myonoffswitch">
						<span class="onoffswitch-inner"></span>
						<span class="onoffswitch-switch"></span>
					</label>
				</div>
			  </div>	
			</div>
			 
			
			<div id="light2" name="light2" style="width:33%; float:left">
				<div id="txtsw" style="width:340px;">
				<h5>Light #2 is: </h5><h6>ON/OFF.</h6>
				<div class="onoffswitch" style="margin-right:auto;margin-left:auto; margin-top:25px" >
					<input type="checkbox" name="onoff2switch" class="onoff2switch-checkbox" id="myonoff2switch" onclick="lamp2Func()">
					<label class="onoff2switch-label" for="myonoff2switch">
						<span class="onoff2switch-inner"></span>
						<span class="onoff2switch-switch"></span>
					</label>
				</div>
			  </div>	
			</div>
			
			<div  id="light3" class="light3" style="width:33%; float:left">
			<div id="txtsw" style="width:340px">
				<h5>Light #3 is : </h5><h6>ON/OFF.</h6>
				<div class="onoffswitch" style="margin-right:auto;margin-left:auto;margin-top:25px; ">
					<input type="checkbox" name="onoff3switch" class="onoff3switch-checkbox" id="myonoff3switch" onclick="lamp3Func()">
					<label class="onoff3switch-label" for="myonoff3switch">
						<span class="onoff3switch-inner"></span>
						<span class="onoff3switch-switch"></span>
					</label>
				</div>
				
			</div>
			</div>
			
			<div id="mytable" style="width:100%; float:left; margin-top:50px;">	  
	<section>
<div  class="tbl-header" style="background-color: rgba(255,255,255,0.3); ">
<table cellpadding="0" cellspacing="0" border="0">
  <thead>
    <tr>
      <th>Operation</th>
      <th style="padding-left:0px; width:520px;">Date</th>
      <th style="padding-left:0px">Time</th>
      
    </tr>
  </thead>
</table>
</div>
<div  class="tbl-content" >
<table cellpadding="0" cellspacing="0" border="0" >
  <tbody id="lamptable">
    
  </tbody>
</table>
</div>
</section>
</div>	
	      
		  
		  
	</div>
	<script>
	function objectToHTML(jsonObj) {
	// generate HTML from JSON object
	var timeRec= jsonObj['time_recorded'];
	var myDate=timeRec.substring(0,10);
	var myTime=timeRec.substring(11,19);
	var myValue=jsonObj['value'];
	var tableVar=myValue;
	if(myValue == "1on_c"){tableVar="Lamp #1 successfully switched on";}
	if(myValue == "1off_c"){tableVar="Lamp #1 successfully switched off";}
	if(myValue == "1on_uc"){tableVar="Could not switch light #1 on";}
	if(myValue == "1off_uc"){tableVar="Could not switch light #1 off";}
	
	if(myValue == "2on_c"){tableVar="Lamp #2 successfully switched on";}
	if(myValue == "2off_c"){tableVar="Lamp #2 successfully switched off";}
	if(myValue == "2on_uc"){tableVar="Could not switch light #2 on";}
	if(myValue == "2off_uc"){tableVar="Could not switch light #2 off";}
	
	if(myValue == "3on_c"){tableVar="Lamp #3 successfully switched on";}
	if(myValue == "3off_c"){tableVar="Lamp #3 successfully switched off";}
	if(myValue == "3on_uc"){tableVar="Could not switch light #3 on";}
	if(myValue == "3off_uc"){tableVar="Could not switch light #3 off";}
	var tableRow = '<tr> \n' +
		'<td>' +  tableVar + '</td> \n' +
		'<td>' + myDate + '</td> \n' +
		'<td>' +  myTime + '</td> \n' +
		'</tr> \n';
	return tableRow;
	
}
l1status=document.getElementById('lamp1stat');
newJson('/api/lamp/1',l1status);
lamptable = document.getElementById('lamptable');
var lamp1Id="1on_c";
var lamp2Id="2on_c";
var lmap3Id="3on_c";
lock1button = document.getElementById('myonoffswitch');
lock2button = document.getElementById('myonoff2switch');
lock3button = document.getElementById('myonoff3switch');


	getJSON('/api/lamp/1', objectToHTML, lamptable, lock1button, lamp1Id);
	getJSON('/api/lamp/2', objectToHTML, lamptable, lock2button, lamp2Id);
	getJSON('/api/lamp/3', objectToHTML, lamptable, lock3button, lamp3Id);
	</script>
		  

{% endblock content %}

