from time import sleep
import Adafruit_CharLCD as LCD
import signal

sleep(2)
f = open('/home/projekt/homeStruction/newmp3/logfile', 'r')

class MyLCD(LCD.Adafruit_CharLCD):
	lcd_rs = 20
	lcd_en = 5
	lcd_d4 = 6
	lcd_d5 = 13
	lcd_d6 = 19
	lcd_d7 = 26
	lcd_backlight = 21

	lcd_columns = 16
	lcd_rows = 2
	
	def __init__(self):
		super(MyLCD, self).__init__(self, backlight=None, invert_polarity=True, enable_pwm=False, gpio=GPIO.get_platforn_gpio(), pwm=PWM.get_platform_pwm(), initial_backlight=1.0)
		self._cols = lcd_columns
		self._lines = lcd_rows
		
		self._gpio = gpio
		self._rs = lcd_rs
		self._en = lcd_en
		self._d4 = lcd_d4
		self._d5 = lcd_d5
		self._d6 = lcd_d6
		self._d7 = lcd_d7

def handler(signal, frame):
	lcd.clear()
	lcd.set_backlight(1)
	

signal.signal(signal.SIGTERM, handler)

lcd = MyLCD()
back = True
while True:
	lcd.set_backlight(back)
	back = not(back)
	sleep(1)
